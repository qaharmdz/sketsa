/*! UIkit 3.15.18 | https://www.getuikit.com | (c) 2014 - 2022 YOOtheme | MIT License */
(function(s,p){typeof exports=="object"&&typeof module<"u"?module.exports=p(require("uikit-util")):typeof define=="function"&&define.amd?define("uikitslider",["uikit-util"],p):(s=typeof globalThis<"u"?globalThis:s||self,s.UIkitSlider=p(s.UIkit.util))})(this,function(s){"use strict";var p={connected(){s.addClass(this.$el,this.$options.id)}},D={connected(){var e;this.registerObserver(s.observeResize(((e=this.$options.resizeTargets)==null?void 0:e.call(this))||this.$el,()=>this.$emit("resize")))}},W={props:{autoplay:Boolean,autoplayInterval:Number,pauseOnHover:Boolean},data:{autoplay:!1,autoplayInterval:7e3,pauseOnHover:!0},connected(){this.autoplay&&this.startAutoplay()},disconnected(){this.stopAutoplay()},update(){s.attr(this.slides,"tabindex","-1")},events:[{name:"visibilitychange",el(){return document},filter(){return this.autoplay},handler(){document.hidden?this.stopAutoplay():this.startAutoplay()}}],methods:{startAutoplay(){this.stopAutoplay(),this.interval=setInterval(()=>(!this.draggable||!s.$(":focus",this.$el))&&(!this.pauseOnHover||!s.matches(this.$el,":hover"))&&!this.stack.length&&this.show("next"),this.autoplayInterval)},stopAutoplay(){this.interval&&clearInterval(this.interval)}}};const u={passive:!1,capture:!0},y={passive:!0,capture:!0},O="touchstart mousedown",w="touchmove mousemove",A="touchend touchcancel mouseup click input scroll";var E={props:{draggable:Boolean},data:{draggable:!0,threshold:10},created(){for(const e of["start","move","end"]){const t=this[e];this[e]=n=>{const i=s.getEventPos(n).x*(s.isRtl?-1:1);this.prevPos=i===this.pos?this.prevPos:this.pos,this.pos=i,t(n)}}},events:[{name:O,passive:!0,delegate(){return`${this.selList} > *`},handler(e){!this.draggable||!s.isTouch(e)&&B(e.target)||s.closest(e.target,s.selInput)||e.button>0||this.length<2||this.start(e)}},{name:"dragstart",handler(e){e.preventDefault()}},{name:w,el(){return this.list},handler:s.noop,...u}],methods:{start(){this.drag=this.pos,this._transitioner?(this.percent=this._transitioner.percent(),this.drag+=this._transitioner.getDistance()*this.percent*this.dir,this._transitioner.cancel(),this._transitioner.translate(this.percent),this.dragging=!0,this.stack=[]):this.prevIndex=this.index,s.on(document,w,this.move,u),s.on(document,A,this.end,y),s.css(this.list,"userSelect","none")},move(e){const t=this.pos-this.drag;if(t===0||this.prevPos===this.pos||!this.dragging&&Math.abs(t)<this.threshold)return;s.css(this.list,"pointerEvents","none"),e.cancelable&&e.preventDefault(),this.dragging=!0,this.dir=t<0?1:-1;const{slides:n}=this;let{prevIndex:i}=this,h=Math.abs(t),r=this.getIndex(i+this.dir,i),o=this._getDistance(i,r)||n[i].offsetWidth;for(;r!==i&&h>o;)this.drag-=o*this.dir,i=r,h-=o,r=this.getIndex(i+this.dir,i),o=this._getDistance(i,r)||n[i].offsetWidth;this.percent=h/o;const g=n[i],c=n[r],d=this.index!==r,a=i===r;let l;[this.index,this.prevIndex].filter(f=>!s.includes([r,i],f)).forEach(f=>{s.trigger(n[f],"itemhidden",[this]),a&&(l=!0,this.prevIndex=i)}),(this.index===i&&this.prevIndex!==i||l)&&s.trigger(n[this.index],"itemshown",[this]),d&&(this.prevIndex=i,this.index=r,!a&&s.trigger(g,"beforeitemhide",[this]),s.trigger(c,"beforeitemshow",[this])),this._transitioner=this._translate(Math.abs(this.percent),g,!a&&c),d&&(!a&&s.trigger(g,"itemhide",[this]),s.trigger(c,"itemshow",[this]))},end(){if(s.off(document,w,this.move,u),s.off(document,A,this.end,y),this.dragging)if(this.dragging=null,this.index===this.prevIndex)this.percent=1-this.percent,this.dir*=-1,this._show(!1,this.index,!0),this._transitioner=null;else{const e=(s.isRtl?this.dir*(s.isRtl?1:-1):this.dir)<0==this.prevPos>this.pos;this.index=e?this.index:this.prevIndex,e&&(this.percent=1-this.percent),this.show(this.dir>0&&!e||this.dir<0&&e?"next":"previous",!0)}s.css(this.list,{userSelect:"",pointerEvents:""}),this.drag=this.percent=null}}};function B(e){return s.css(e,"userSelect")!=="none"&&s.toNodes(e.childNodes).some(t=>t.nodeType===3&&t.textContent.trim())}var P={data:{selNav:!1},computed:{nav({selNav:e},t){return s.$(e,t)},selNavItem({attrItem:e}){return`[${e}],[data-${e}]`},navItems(e,t){return s.$$(this.selNavItem,t)}},update:{write(){this.nav&&this.length!==this.nav.children.length&&s.html(this.nav,this.slides.map((e,t)=>`<li ${this.attrItem}="${t}"><a href></a></li>`).join("")),this.navItems.concat(this.nav).forEach(e=>e&&(e.hidden=!this.maxIndex)),this.updateNav()},events:["resize"]},events:[{name:"click",delegate(){return this.selNavItem},handler(e){e.preventDefault(),this.show(s.data(e.current,this.attrItem))}},{name:"itemshow",handler:"updateNav"}],methods:{updateNav(){const e=this.getValidIndex();for(const t of this.navItems){const n=s.data(t,this.attrItem);s.toggleClass(t,this.clsActive,s.toNumber(n)===e),s.toggleClass(t,"uk-invisible",this.finite&&(n==="previous"&&e===0||n==="next"&&e>=this.maxIndex))}}}},V={mixins:[W,E,P,D],props:{clsActivated:Boolean,easing:String,index:Number,finite:Boolean,velocity:Number},data:()=>({easing:"ease",finite:!1,velocity:1,index:0,prevIndex:-1,stack:[],percent:0,clsActive:"uk-active",clsActivated:!1,Transitioner:!1,transitionOptions:{}}),connected(){this.prevIndex=-1,this.index=this.getValidIndex(this.$props.index),this.stack=[]},disconnected(){s.removeClass(this.slides,this.clsActive)},computed:{duration({velocity:e},t){return _(t.offsetWidth/e)},list({selList:e},t){return s.$(e,t)},maxIndex(){return this.length-1},slides:{get(){return s.children(this.list)},watch(){this.$emit("resize")}},length(){return this.slides.length}},methods:{show(e,t=!1){if(this.dragging||!this.length)return;const{stack:n}=this,i=t?0:n.length,h=()=>{n.splice(i,1),n.length&&this.show(n.shift(),!0)};if(n[t?"unshift":"push"](e),!t&&n.length>1){n.length===2&&this._transitioner.forward(Math.min(this.duration,200));return}const r=this.getIndex(this.index),o=s.hasClass(this.slides,this.clsActive)&&this.slides[r],g=this.getIndex(e,this.index),c=this.slides[g];if(o===c){h();return}if(this.dir=j(e,r),this.prevIndex=r,this.index=g,o&&!s.trigger(o,"beforeitemhide",[this])||!s.trigger(c,"beforeitemshow",[this,o])){this.index=this.prevIndex,h();return}const d=this._show(o,c,t).then(()=>(o&&s.trigger(o,"itemhidden",[this]),s.trigger(c,"itemshown",[this]),new Promise(a=>{requestAnimationFrame(()=>{n.shift(),n.length?this.show(n.shift(),!0):this._transitioner=null,a()})})));return o&&s.trigger(o,"itemhide",[this]),s.trigger(c,"itemshow",[this]),d},getIndex(e=this.index,t=this.index){return s.clamp(s.getIndex(e,this.slides,t,this.finite),0,this.maxIndex)},getValidIndex(e=this.index,t=this.prevIndex){return this.getIndex(e,t)},_show(e,t,n){if(this._transitioner=this._getTransitioner(e,t,this.dir,{easing:n?t.offsetWidth<600?"cubic-bezier(0.25, 0.46, 0.45, 0.94)":"cubic-bezier(0.165, 0.84, 0.44, 1)":this.easing,...this.transitionOptions}),!n&&!e)return this._translate(1),Promise.resolve();const{length:i}=this.stack;return this._transitioner[i>1?"forward":"show"](i>1?Math.min(this.duration,75+75/(i-1)):this.duration,this.percent)},_getDistance(e,t){return this._getTransitioner(e,e!==t&&t).getDistance()},_translate(e,t=this.prevIndex,n=this.index){const i=this._getTransitioner(t!==n?t:!1,n);return i.translate(e),i},_getTransitioner(e=this.prevIndex,t=this.index,n=this.dir||1,i=this.transitionOptions){return new this.Transitioner(s.isNumber(e)?this.slides[e]:e,s.isNumber(t)?this.slides[t]:t,n*(s.isRtl?-1:1),i)}}};function j(e,t){return e==="next"?1:e==="previous"||e<t?-1:1}function _(e){return .5*e+300}var L={update:{write(){if(this.stack.length||this.dragging)return;const e=this.getValidIndex(this.index);!~this.prevIndex||this.index!==e?this.show(e):this._translate(1,this.prevIndex,this.index)},events:["resize"]}},F={data:{preload:5},methods:{lazyload(e=this.$el,t=this.$el){this.registerObserver(s.observeIntersection(e,(n,i)=>{for(const h of s.toNodes(s.isFunction(t)?t():t))s.$$('[loading="lazy"]',h).slice(0,this.preload-1).forEach(r=>s.removeAttr(r,"loading"));for(const h of n.filter(({isIntersecting:r})=>r).map(({target:r})=>r))i.unobserve(h)}))}}},H={mixins:[F],connected(){this.lazyload(this.slides,this.getAdjacentSlides)}};function M(e=0,t="%"){return e+=e?t:"",`translate3d(${e}, 0, 0)`}function q(e,t,n,{center:i,easing:h,list:r}){const o=new s.Deferred,g=e?v(e,r,i):v(t,r,i)+s.dimensions(t).width*n,c=t?v(t,r,i):g+s.dimensions(e).width*n*(s.isRtl?-1:1);return{dir:n,show(d,a=0,l){const f=l?"linear":h;return d-=Math.round(d*s.clamp(a,-1,1)),this.translate(a),a=e?a:s.clamp(a,0,1),b(this.getItemIn(),"itemin",{percent:a,duration:d,timing:f,dir:n}),e&&b(this.getItemIn(!0),"itemout",{percent:1-a,duration:d,timing:f,dir:n}),s.Transition.start(r,{transform:M(-c*(s.isRtl?-1:1),"px")},d,f).then(o.resolve,s.noop),o.promise},cancel(){s.Transition.cancel(r)},reset(){s.css(r,"transform","")},forward(d,a=this.percent()){return s.Transition.cancel(r),this.show(d,a,!0)},translate(d){const a=this.getDistance()*n*(s.isRtl?-1:1);s.css(r,"transform",M(s.clamp(-c+(a-a*d),-x(r),s.dimensions(r).width)*(s.isRtl?-1:1),"px"));const l=this.getActives(),f=this.getItemIn(),$=this.getItemIn(!0);d=e?s.clamp(d,-1,1):0;for(const m of s.children(r)){const T=s.includes(l,m),R=m===f,z=m===$,Q=R||!z&&(T||n*(s.isRtl?-1:1)===-1^I(m,r)>I(e||t));b(m,`itemtranslate${Q?"in":"out"}`,{dir:n,percent:z?1-d:R?d:T?1:0})}},percent(){return Math.abs((s.css(r,"transform").split(",")[4]*(s.isRtl?-1:1)+g)/(c-g))},getDistance(){return Math.abs(c-g)},getItemIn(d=!1){let a=this.getActives(),l=N(r,v(t||e,r,i));if(d){const f=a;a=l,l=f}return l[s.findIndex(l,f=>!s.includes(a,f))]},getActives(){return N(r,v(e||t,r,i))}}}function v(e,t,n){const i=I(e,t);return n?i-G(e,t):Math.min(i,C(t))}function C(e){return Math.max(0,x(e)-s.dimensions(e).width)}function x(e){return s.sumBy(s.children(e),t=>s.dimensions(t).width)}function G(e,t){return s.dimensions(t).width/2-s.dimensions(e).width/2}function I(e,t){return e&&(s.position(e).left+(s.isRtl?s.dimensions(e).width-s.dimensions(t).width:0))*(s.isRtl?-1:1)||0}function N(e,t){t-=1;const n=s.dimensions(e).width,i=t+n+2;return s.children(e).filter(h=>{const r=I(h,e),o=r+Math.min(s.dimensions(h).width,n);return r>=t&&o<=i})}function b(e,t,n){s.trigger(e,s.createEvent(t,!1,!1,n))}var S={mixins:[p,V,L,H],props:{center:Boolean,sets:Boolean},data:{center:!1,sets:!1,attrItem:"uk-slider-item",selList:".uk-slider-items",selNav:".uk-slider-nav",clsContainer:"uk-slider-container",Transitioner:q},computed:{avgWidth(){return x(this.list)/this.length},finite({finite:e}){return e||J(this.list,this.center)},maxIndex(){if(!this.finite||this.center&&!this.sets)return this.length-1;if(this.center)return s.last(this.sets);let e=0;const t=C(this.list),n=s.findIndex(this.slides,i=>{if(e>=t)return!0;e+=s.dimensions(i).width});return~n?n:this.length-1},sets({sets:e}){if(!e)return;let t=0;const n=[],i=s.dimensions(this.list).width;for(let h=0;h<this.length;h++){const r=s.dimensions(this.slides[h]).width;t+r>i&&(t=0),this.center?t<i/2&&t+r+s.dimensions(this.slides[+h+1]).width/2>i/2&&(n.push(+h),t=i/2-r/2):t===0&&n.push(Math.min(+h,this.maxIndex)),t+=r}if(n.length)return n},transitionOptions(){return{center:this.center,list:this.list}}},connected(){s.toggleClass(this.$el,this.clsContainer,!s.$(`.${this.clsContainer}`,this.$el))},update:{write(){for(const e of this.navItems){const t=s.toNumber(s.data(e,this.attrItem));t!==!1&&(e.hidden=!this.maxIndex||t>this.maxIndex||this.sets&&!s.includes(this.sets,t))}this.length&&!this.dragging&&!this.stack.length&&(this.reorder(),this._translate(1)),this.updateActiveClasses()},events:["resize"]},events:{beforeitemshow(e){!this.dragging&&this.sets&&this.stack.length<2&&!s.includes(this.sets,this.index)&&(this.index=this.getValidIndex());const t=Math.abs(this.index-this.prevIndex+(this.dir>0&&this.index<this.prevIndex||this.dir<0&&this.index>this.prevIndex?(this.maxIndex+1)*this.dir:0));if(!this.dragging&&t>1){for(let i=0;i<t;i++)this.stack.splice(1,0,this.dir>0?"next":"previous");e.preventDefault();return}const n=this.dir<0||!this.slides[this.prevIndex]?this.index:this.prevIndex;this.duration=_(this.avgWidth/this.velocity)*(s.dimensions(this.slides[n]).width/this.avgWidth),this.reorder()},itemshow(){~this.prevIndex&&s.addClass(this._getTransitioner().getItemIn(),this.clsActive)},itemshown(){this.updateActiveClasses()}},methods:{reorder(){if(this.finite){s.css(this.slides,"order","");return}const e=this.dir>0&&this.slides[this.prevIndex]?this.prevIndex:this.index;if(this.slides.forEach((h,r)=>s.css(h,"order",this.dir>0&&r<e?1:this.dir<0&&r>=this.index?-1:"")),!this.center)return;const t=this.slides[e];let n=s.dimensions(this.list).width/2-s.dimensions(t).width/2,i=0;for(;n>0;){const h=this.getIndex(--i+e,e),r=this.slides[h];s.css(r,"order",h>e?-2:-1),n-=s.dimensions(r).width}},updateActiveClasses(){const e=this._getTransitioner(this.index).getActives(),t=[this.clsActive,(!this.sets||s.includes(this.sets,s.toFloat(this.index)))&&this.clsActivated||""];for(const n of this.slides)s.toggleClass(n,t,s.includes(e,n))},getValidIndex(e=this.index,t=this.prevIndex){if(e=this.getIndex(e,t),!this.sets)return e;let n;do{if(s.includes(this.sets,e))return e;n=e,e=this.getIndex(e+this.dir,t)}while(e!==n);return e},getAdjacentSlides(){const{width:e}=s.dimensions(this.list),t=-e,n=e*2,i=s.dimensions(this.slides[this.index]).width,h=this.center?e/2-i/2:0,r=new Set;for(const o of[-1,1]){let g=h+(o>0?i:0),c=0;do{const d=this.slides[this.getIndex(this.index+o+c++*o)];g+=s.dimensions(d).width*o,r.add(d)}while(this.length>c&&g>t&&g<n)}return Array.from(r)}}};function J(e,t){const{length:n}=e;if(n<2)return!0;const{width:i}=s.dimensions(e);if(!t)return Math.ceil(x(e))<Math.trunc(i+K(e));const h=s.children(e),r=Math.trunc(i/2);for(const o in h){const g=h[o],c=s.dimensions(g).width,d=new Set([g]);let a=0;for(const l of[-1,1]){let f=c/2,$=0;for(;f<r;){const m=h[s.getIndex(+o+l+$++*l,h)];if(d.has(m))return!0;f+=s.dimensions(m).width,d.add(m)}a=Math.max(a,c/2+s.dimensions(h[s.getIndex(+o+l,h)]).width/2-(f-r))}if(a>s.sumBy(h.filter(l=>!d.has(l)),l=>s.dimensions(l).width))return!0}return!1}function K(e){return Math.max(0,...s.children(e).map(t=>s.dimensions(t).width))}return typeof window<"u"&&window.UIkit&&window.UIkit.component("slider",S),S});
