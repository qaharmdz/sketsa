/*! UIkit 3.15.18 | https://www.getuikit.com | (c) 2014 - 2022 YOOtheme | MIT License */
(function(s,g){typeof exports=="object"&&typeof module<"u"?module.exports=g(require("uikit-util")):typeof define=="function"&&define.amd?define("uikitslideshow",["uikit-util"],g):(s=typeof globalThis<"u"?globalThis:s||self,s.UIkitSlideshow=g(s.UIkit.util))})(this,function(s){"use strict";var g={connected(){s.addClass(this.$el,this.$options.id)}},b={slide:{show(e){return[{transform:h(e*-100)},{transform:h()}]},percent(e){return f(e)},translate(e,t){return[{transform:h(t*-100*e)},{transform:h(t*100*(1-e))}]}}};function f(e){return Math.abs(s.css(e,"transform").split(",")[4]/e.offsetWidth)||0}function h(e=0,t="%"){return e+=e?t:"",`translate3d(${e}, 0, 0)`}function z(e){return`scale3d(${e}, ${e}, 1)`}function A(e,t,n,{animation:r,easing:c}){const{percent:i,translate:o,show:m=s.noop}=r,d=m(n),p=new s.Deferred;return{dir:n,show(a,l=0,u){const x=u?"linear":c;return a-=Math.round(a*s.clamp(l,-1,1)),this.translate(l),v(t,"itemin",{percent:l,duration:a,timing:x,dir:n}),v(e,"itemout",{percent:1-l,duration:a,timing:x,dir:n}),Promise.all([s.Transition.start(t,d[1],a,x),s.Transition.start(e,d[0],a,x)]).then(()=>{this.reset(),p.resolve()},s.noop),p.promise},cancel(){s.Transition.cancel([t,e])},reset(){for(const a in d[0])s.css([t,e],a,"")},forward(a,l=this.percent()){return s.Transition.cancel([t,e]),this.show(a,l,!0)},translate(a){this.reset();const l=o(a,n);s.css(t,l[1]),s.css(e,l[0]),v(t,"itemtranslatein",{percent:a,dir:n}),v(e,"itemtranslateout",{percent:1-a,dir:n})},percent(){return i(e||t,t,n)},getDistance(){return e==null?void 0:e.offsetWidth}}}function v(e,t,n){s.trigger(e,s.createEvent(t,!1,!1,n))}var N={connected(){var e;this.registerObserver(s.observeResize(((e=this.$options.resizeTargets)==null?void 0:e.call(this))||this.$el,()=>this.$emit("resize")))}},S={props:{autoplay:Boolean,autoplayInterval:Number,pauseOnHover:Boolean},data:{autoplay:!1,autoplayInterval:7e3,pauseOnHover:!0},connected(){this.autoplay&&this.startAutoplay()},disconnected(){this.stopAutoplay()},update(){s.attr(this.slides,"tabindex","-1")},events:[{name:"visibilitychange",el(){return document},filter(){return this.autoplay},handler(){document.hidden?this.stopAutoplay():this.startAutoplay()}}],methods:{startAutoplay(){this.stopAutoplay(),this.interval=setInterval(()=>(!this.draggable||!s.$(":focus",this.$el))&&(!this.pauseOnHover||!s.matches(this.$el,":hover"))&&!this.stack.length&&this.show("next"),this.autoplayInterval)},stopAutoplay(){this.interval&&clearInterval(this.interval)}}};const I={passive:!1,capture:!0},y={passive:!0,capture:!0},T="touchstart mousedown",w="touchmove mousemove",$="touchend touchcancel mouseup click input scroll";var D={props:{draggable:Boolean},data:{draggable:!0,threshold:10},created(){for(const e of["start","move","end"]){const t=this[e];this[e]=n=>{const r=s.getEventPos(n).x*(s.isRtl?-1:1);this.prevPos=r===this.pos?this.prevPos:this.pos,this.pos=r,t(n)}}},events:[{name:T,passive:!0,delegate(){return`${this.selList} > *`},handler(e){!this.draggable||!s.isTouch(e)&&C(e.target)||s.closest(e.target,s.selInput)||e.button>0||this.length<2||this.start(e)}},{name:"dragstart",handler(e){e.preventDefault()}},{name:w,el(){return this.list},handler:s.noop,...I}],methods:{start(){this.drag=this.pos,this._transitioner?(this.percent=this._transitioner.percent(),this.drag+=this._transitioner.getDistance()*this.percent*this.dir,this._transitioner.cancel(),this._transitioner.translate(this.percent),this.dragging=!0,this.stack=[]):this.prevIndex=this.index,s.on(document,w,this.move,I),s.on(document,$,this.end,y),s.css(this.list,"userSelect","none")},move(e){const t=this.pos-this.drag;if(t===0||this.prevPos===this.pos||!this.dragging&&Math.abs(t)<this.threshold)return;s.css(this.list,"pointerEvents","none"),e.cancelable&&e.preventDefault(),this.dragging=!0,this.dir=t<0?1:-1;const{slides:n}=this;let{prevIndex:r}=this,c=Math.abs(t),i=this.getIndex(r+this.dir,r),o=this._getDistance(r,i)||n[r].offsetWidth;for(;i!==r&&c>o;)this.drag-=o*this.dir,r=i,c-=o,i=this.getIndex(r+this.dir,r),o=this._getDistance(r,i)||n[r].offsetWidth;this.percent=c/o;const m=n[r],d=n[i],p=this.index!==i,a=r===i;let l;[this.index,this.prevIndex].filter(u=>!s.includes([i,r],u)).forEach(u=>{s.trigger(n[u],"itemhidden",[this]),a&&(l=!0,this.prevIndex=r)}),(this.index===r&&this.prevIndex!==r||l)&&s.trigger(n[this.index],"itemshown",[this]),p&&(this.prevIndex=r,this.index=i,!a&&s.trigger(m,"beforeitemhide",[this]),s.trigger(d,"beforeitemshow",[this])),this._transitioner=this._translate(Math.abs(this.percent),m,!a&&d),p&&(!a&&s.trigger(m,"itemhide",[this]),s.trigger(d,"itemshow",[this]))},end(){if(s.off(document,w,this.move,I),s.off(document,$,this.end,y),this.dragging)if(this.dragging=null,this.index===this.prevIndex)this.percent=1-this.percent,this.dir*=-1,this._show(!1,this.index,!0),this._transitioner=null;else{const e=(s.isRtl?this.dir*(s.isRtl?1:-1):this.dir)<0==this.prevPos>this.pos;this.index=e?this.index:this.prevIndex,e&&(this.percent=1-this.percent),this.show(this.dir>0&&!e||this.dir<0&&e?"next":"previous",!0)}s.css(this.list,{userSelect:"",pointerEvents:""}),this.drag=this.percent=null}}};function C(e){return s.css(e,"userSelect")!=="none"&&s.toNodes(e.childNodes).some(t=>t.nodeType===3&&t.textContent.trim())}var H={data:{selNav:!1},computed:{nav({selNav:e},t){return s.$(e,t)},selNavItem({attrItem:e}){return`[${e}],[data-${e}]`},navItems(e,t){return s.$$(this.selNavItem,t)}},update:{write(){this.nav&&this.length!==this.nav.children.length&&s.html(this.nav,this.slides.map((e,t)=>`<li ${this.attrItem}="${t}"><a href></a></li>`).join("")),this.navItems.concat(this.nav).forEach(e=>e&&(e.hidden=!this.maxIndex)),this.updateNav()},events:["resize"]},events:[{name:"click",delegate(){return this.selNavItem},handler(e){e.preventDefault(),this.show(s.data(e.current,this.attrItem))}},{name:"itemshow",handler:"updateNav"}],methods:{updateNav(){const e=this.getValidIndex();for(const t of this.navItems){const n=s.data(t,this.attrItem);s.toggleClass(t,this.clsActive,s.toNumber(n)===e),s.toggleClass(t,"uk-invisible",this.finite&&(n==="previous"&&e===0||n==="next"&&e>=this.maxIndex))}}}},M={mixins:[S,D,H,N],props:{clsActivated:Boolean,easing:String,index:Number,finite:Boolean,velocity:Number},data:()=>({easing:"ease",finite:!1,velocity:1,index:0,prevIndex:-1,stack:[],percent:0,clsActive:"uk-active",clsActivated:!1,Transitioner:!1,transitionOptions:{}}),connected(){this.prevIndex=-1,this.index=this.getValidIndex(this.$props.index),this.stack=[]},disconnected(){s.removeClass(this.slides,this.clsActive)},computed:{duration({velocity:e},t){return P(t.offsetWidth/e)},list({selList:e},t){return s.$(e,t)},maxIndex(){return this.length-1},slides:{get(){return s.children(this.list)},watch(){this.$emit("resize")}},length(){return this.slides.length}},methods:{show(e,t=!1){if(this.dragging||!this.length)return;const{stack:n}=this,r=t?0:n.length,c=()=>{n.splice(r,1),n.length&&this.show(n.shift(),!0)};if(n[t?"unshift":"push"](e),!t&&n.length>1){n.length===2&&this._transitioner.forward(Math.min(this.duration,200));return}const i=this.getIndex(this.index),o=s.hasClass(this.slides,this.clsActive)&&this.slides[i],m=this.getIndex(e,this.index),d=this.slides[m];if(o===d){c();return}if(this.dir=O(e,i),this.prevIndex=i,this.index=m,o&&!s.trigger(o,"beforeitemhide",[this])||!s.trigger(d,"beforeitemshow",[this,o])){this.index=this.prevIndex,c();return}const p=this._show(o,d,t).then(()=>(o&&s.trigger(o,"itemhidden",[this]),s.trigger(d,"itemshown",[this]),new Promise(a=>{requestAnimationFrame(()=>{n.shift(),n.length?this.show(n.shift(),!0):this._transitioner=null,a()})})));return o&&s.trigger(o,"itemhide",[this]),s.trigger(d,"itemshow",[this]),p},getIndex(e=this.index,t=this.index){return s.clamp(s.getIndex(e,this.slides,t,this.finite),0,this.maxIndex)},getValidIndex(e=this.index,t=this.prevIndex){return this.getIndex(e,t)},_show(e,t,n){if(this._transitioner=this._getTransitioner(e,t,this.dir,{easing:n?t.offsetWidth<600?"cubic-bezier(0.25, 0.46, 0.45, 0.94)":"cubic-bezier(0.165, 0.84, 0.44, 1)":this.easing,...this.transitionOptions}),!n&&!e)return this._translate(1),Promise.resolve();const{length:r}=this.stack;return this._transitioner[r>1?"forward":"show"](r>1?Math.min(this.duration,75+75/(r-1)):this.duration,this.percent)},_getDistance(e,t){return this._getTransitioner(e,e!==t&&t).getDistance()},_translate(e,t=this.prevIndex,n=this.index){const r=this._getTransitioner(t!==n?t:!1,n);return r.translate(e),r},_getTransitioner(e=this.prevIndex,t=this.index,n=this.dir||1,r=this.transitionOptions){return new this.Transitioner(s.isNumber(e)?this.slides[e]:e,s.isNumber(t)?this.slides[t]:t,n*(s.isRtl?-1:1),r)}}};function O(e,t){return e==="next"?1:e==="previous"||e<t?-1:1}function P(e){return .5*e+300}var E={mixins:[M],props:{animation:String},data:{animation:"slide",clsActivated:"uk-transition-active",Animations:b,Transitioner:A},computed:{animation({animation:e,Animations:t}){return{...t[e]||t.slide,name:e}},transitionOptions(){return{animation:this.animation}}},events:{beforeitemshow({target:e}){s.addClass(e,this.clsActive)},itemshown({target:e}){s.addClass(e,this.clsActivated)},itemhidden({target:e}){s.removeClass(e,this.clsActive,this.clsActivated)}}},R={...b,fade:{show(){return[{opacity:0,zIndex:0},{zIndex:-1}]},percent(e){return 1-s.css(e,"opacity")},translate(e){return[{opacity:1-e,zIndex:0},{zIndex:-1}]}},scale:{show(){return[{opacity:0,transform:z(1+.5),zIndex:0},{zIndex:-1}]},percent(e){return 1-s.css(e,"opacity")},translate(e){return[{opacity:1-e,transform:z(1+.5*e),zIndex:0},{zIndex:-1}]}},pull:{show(e){return e<0?[{transform:h(30),zIndex:-1},{transform:h(),zIndex:0}]:[{transform:h(-100),zIndex:0},{transform:h(),zIndex:-1}]},percent(e,t,n){return n<0?1-f(t):f(e)},translate(e,t){return t<0?[{transform:h(30*e),zIndex:-1},{transform:h(-100*(1-e)),zIndex:0}]:[{transform:h(-e*100),zIndex:0},{transform:h(30*(1-e)),zIndex:-1}]}},push:{show(e){return e<0?[{transform:h(100),zIndex:0},{transform:h(),zIndex:-1}]:[{transform:h(-30),zIndex:-1},{transform:h(),zIndex:0}]},percent(e,t,n){return n>0?1-f(t):f(e)},translate(e,t){return t<0?[{transform:h(e*100),zIndex:0},{transform:h(-30*(1-e)),zIndex:-1}]:[{transform:h(-30*e),zIndex:-1},{transform:h(100*(1-e)),zIndex:0}]}}},W={update:{write(){if(this.stack.length||this.dragging)return;const e=this.getValidIndex(this.index);!~this.prevIndex||this.index!==e?this.show(e):this._translate(1,this.prevIndex,this.index)},events:["resize"]}},j={data:{preload:5},methods:{lazyload(e=this.$el,t=this.$el){this.registerObserver(s.observeIntersection(e,(n,r)=>{for(const c of s.toNodes(s.isFunction(t)?t():t))s.$$('[loading="lazy"]',c).slice(0,this.preload-1).forEach(i=>s.removeAttr(i,"loading"));for(const c of n.filter(({isIntersecting:i})=>i).map(({target:i})=>i))r.unobserve(c)}))}}},B={mixins:[j],connected(){this.lazyload(this.slides,this.getAdjacentSlides)}},_={mixins:[g,E,W,B],props:{ratio:String,minHeight:Number,maxHeight:Number},data:{ratio:"16:9",minHeight:!1,maxHeight:!1,selList:".uk-slideshow-items",attrItem:"uk-slideshow-item",selNav:".uk-slideshow-nav",Animations:R},update:{read(){if(!this.list)return!1;let[e,t]=this.ratio.split(":").map(Number);return t=t*this.list.offsetWidth/e||0,this.minHeight&&(t=Math.max(this.minHeight,t)),this.maxHeight&&(t=Math.min(this.maxHeight,t)),{height:t-s.boxModelAdjust(this.list,"height","content-box")}},write({height:e}){e>0&&s.css(this.list,"minHeight",e)},events:["resize"]},methods:{getAdjacentSlides(){return[1,-1].map(e=>this.slides[this.getIndex(this.index+e)])}}};return typeof window<"u"&&window.UIkit&&window.UIkit.component("slideshow",_),_});
